{"ast":null,"code":"import{useEffect,useState}from'react';import{useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import cssStyle from'../css/TicketOpenMore.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const searchIcon=/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",height:\"16\",width:\"16\",viewBox:\"0 0 512 512\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z\"})});export default function TicketOpenMore(){let totalData=useSelector(a=>a.datalist);// 데이터\nconst[openList,setOpenList]=useState([]);// 정렬\nconst[activeButton,setActiveButton]=useState('등록순');//class on/off\nconst[searchTerm,setSearchTerm]=useState('');//검색창 상태관리\nlet navigate=useNavigate();// 날짜\nuseEffect(()=>{let currentDate=new Date();currentDate=currentDate.toISOString().split('T')[0];let matchingDate=totalData.filter(a=>a.openDate>=currentDate);setOpenList(matchingDate);},[]);// input 기능\nconst handleSearch=e=>{setSearchTerm(e.target.value);};// 검색 버튼 클릭시 호출\nconst searchPrint=()=>{if(searchTerm!==''){const newOpenList=totalData.filter(item=>item.title.includes(searchTerm));setOpenList(newOpenList);}else{setOpenList(totalData);}};return/*#__PURE__*/_jsx(\"main\",{className:\"mw\",children:/*#__PURE__*/_jsxs(\"section\",{className:cssStyle.subTicket,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD2F0\\uCF13 \\uC624\\uD508\"}),/*#__PURE__*/_jsxs(\"div\",{className:cssStyle.searchBox,children:[/*#__PURE__*/_jsxs(\"div\",{className:cssStyle.btns,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setOpenList(totalData);setActiveButton('등록순');},className:activeButton==='등록순'?cssStyle.on:'',children:\"\\uB4F1\\uB85D\\uC21C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setOpenList([...totalData].sort((a,b)=>a.openDate.localeCompare(b.openDate)// 오름차순\n));setActiveButton('오픈일순');},className:activeButton==='오픈일순'?cssStyle.on:'',children:\"\\uC624\\uD508\\uC77C\\uC21C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setOpenList([...totalData].sort((a,b)=>b.count-a.count));setActiveButton('조회순');},className:activeButton==='조회순'?cssStyle.on:'',children:\"\\uC870\\uD68C\\uC21C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:cssStyle.inputCon,children:[/*#__PURE__*/_jsx(\"input\",{value:searchTerm,placeholder:\"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",onChange:handleSearch}),/*#__PURE__*/_jsx(\"button\",{onClick:searchPrint,children:searchIcon})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:cssStyle.title,children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uAD6C\\uBD84\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD2F0\\uCF13 \\uC624\\uD508\\uC77C\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC870\\uD68C\\uC218\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:openList&&openList.map(item=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>{navigate(\"/detail/\".concat(item.id));},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD2F0\\uCF13\\uC624\\uD508\"}),/*#__PURE__*/_jsx(\"span\",{children:item.title}),/*#__PURE__*/_jsx(\"span\",{children:item.openDate}),/*#__PURE__*/_jsx(\"span\",{children:item.count})]},item.id))})]})});}","map":{"version":3,"names":["useEffect","useState","useSelector","useNavigate","cssStyle","jsx","_jsx","jsxs","_jsxs","searchIcon","xmlns","height","width","viewBox","children","d","TicketOpenMore","totalData","a","datalist","openList","setOpenList","activeButton","setActiveButton","searchTerm","setSearchTerm","navigate","currentDate","Date","toISOString","split","matchingDate","filter","openDate","handleSearch","e","target","value","searchPrint","newOpenList","item","title","includes","className","subTicket","searchBox","btns","onClick","on","sort","b","localeCompare","count","inputCon","placeholder","onChange","map","concat","id"],"sources":["/Users/ljh/Desktop/포트폴리오/5.예술의전당/sac/src/pages/TicketOpenMore.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport cssStyle from '../css/TicketOpenMore.module.css';\r\n\r\nconst searchIcon = (\r\n  <svg xmlns='http://www.w3.org/2000/svg' height='16' width='16' viewBox='0 0 512 512'>\r\n    <path d='M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z' />\r\n  </svg>\r\n);\r\n\r\nexport default function TicketOpenMore() {\r\n  let totalData = useSelector((a) => a.datalist); // 데이터\r\n  const [openList, setOpenList] = useState([]); // 정렬\r\n  const [activeButton, setActiveButton] = useState('등록순'); //class on/off\r\n  const [searchTerm, setSearchTerm] = useState(''); //검색창 상태관리\r\n  let navigate = useNavigate();\r\n\r\n  // 날짜\r\n  useEffect(() => {\r\n    let currentDate = new Date();\r\n    currentDate = currentDate.toISOString().split('T')[0];\r\n    let matchingDate = totalData.filter((a) => a.openDate >= currentDate);\r\n    setOpenList(matchingDate);\r\n  }, []);\r\n\r\n  // input 기능\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  // 검색 버튼 클릭시 호출\r\n  const searchPrint = () => {\r\n    if (searchTerm !== '') {\r\n      const newOpenList = totalData.filter((item) => item.title.includes(searchTerm));\r\n      setOpenList(newOpenList);\r\n    } else {\r\n      setOpenList(totalData);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className='mw'>\r\n      <section className={cssStyle.subTicket}>\r\n        <h2>티켓 오픈</h2>\r\n        <div className={cssStyle.searchBox}>\r\n          <div className={cssStyle.btns}>\r\n            <button\r\n              onClick={() => {\r\n                setOpenList(totalData);\r\n                setActiveButton('등록순');\r\n              }}\r\n              className={activeButton === '등록순' ? cssStyle.on : ''}\r\n            >\r\n              등록순\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setOpenList(\r\n                  [...totalData].sort(\r\n                    (a, b) => a.openDate.localeCompare(b.openDate) // 오름차순\r\n                  )\r\n                );\r\n                setActiveButton('오픈일순');\r\n              }}\r\n              className={activeButton === '오픈일순' ? cssStyle.on : ''}\r\n            >\r\n              오픈일순\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setOpenList([...totalData].sort((a, b) => b.count - a.count));\r\n                setActiveButton('조회순');\r\n              }}\r\n              className={activeButton === '조회순' ? cssStyle.on : ''}\r\n            >\r\n              조회순\r\n            </button>\r\n          </div>\r\n          <div className={cssStyle.inputCon}>\r\n            <input\r\n              value={searchTerm}\r\n              placeholder='검색어를 입력하세요'\r\n              onChange={handleSearch}\r\n            ></input>\r\n            <button onClick={searchPrint}>{searchIcon}</button>\r\n          </div>\r\n        </div>\r\n        <div className={cssStyle.title}>\r\n          <p>구분</p>\r\n          <p>제목</p>\r\n          <p>티켓 오픈일</p>\r\n          <p>조회수</p>\r\n        </div>\r\n\r\n        <ul>\r\n          {openList &&\r\n            openList.map((item) => (\r\n              <li\r\n                key={item.id}\r\n                onClick={() => {\r\n                  navigate(`/detail/${item.id}`);\r\n                }}\r\n              >\r\n                <span>티켓오픈</span>\r\n                <span>{item.title}</span>\r\n                <span>{item.openDate}</span>\r\n                <span>{item.count}</span>\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}